<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingView Widget</title>
    <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
</head>
<style>
    .flex {
        display: flex;
    }

    .btw {
        justify-content: space-between;
        align-items: center;
    }

    .w100per {
        width: 100%;
    }

    .h100per {
        height: 100%;
    }
    body{
        height: 95vh;
    }
</style>

<body class="btw ">

    <div class="flex btw">
        <div>
            <p>
                TEST APP V.2
            </p>
        </div>
        <div>
            <!-- <form action="/send_to_line" method="post">
                <input type="hidden" name="tradingview_data" id="tradingview_data" value="">
                <button type="submit">Send to LINE Notify</button>
            </form> -->
        </div>
    </div>
    <div class="flex btw h100per">
        <div id="tradingview_widget" class="w100per h100per"></div>
        <script type="text/javascript">
            new TradingView.widget(
                {
                    "autosize": true,
                    "symbol": "{{sb}}",
                    "interval": "{{tf}}",
                    "timezone": "Asia/Bangkok",
                    "theme": "{{md}}",
                    "style": "1",
                    "locale": "th_TH",
                    "allow_symbol_change": true,
                    "calendar": false,
                    "studies": [
                      "STD;DEMA",
                      "STD;MA%1Cross"],
                    "container_id": "tradingview_widget"
                },
            );
        </script>
    </div>



    <script>
        document.getElementById('tradingview_data').value = JSON.stringify(new TradingView.widget());
    </script>
</body>

</html>